<div class="container-fluid">
  <!-- Page-Title -->
  <div class="row">
    <div class="col-sm-12">
      <div class="page-title-box">
        <div class="float-right">
          <ol class="breadcrumb">
            <li class="breadcrumb-item active">Wallet</li>
          </ol>
        </div>
        <h4 class="page-title">Wallet Info</h4>
      </div><!--end page-title-box-->
    </div><!--end col-->
  </div><!--end row-->
  <!-- end page title end breadcrumb -->

  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <%= form_for @wallet, url: @wallet.new_record? ? admin_wallets_url : admin_wallet_url(@wallet.id) do |f| %>
            <div class="row">
              <div class="col-md-4">
                <%= f.hidden_field :id %>
                <div class="form-group">
                  <label>Blockchain Key</label>
                  <%= f.select :blockchain_key, Blockchain.all.map { |bc| [bc.key.upcase, bc.key] },
                               {selected: @wallet.blockchain_key}, {class: 'custom-select'} %>
                </div>


                <div class="form-group">
                  <label>Currency Id</label>
                  <%= f.select :currency_id, Currency.codes.map { |code| [code.upcase, code] },
                               { selected: @wallet.currency_id }, { class: 'custom-select' } %>
                </div>
                <div class="form-group">
                  <label>Gateway Client</label>
                  <%= f.select :gateway, options_for_select(Wallet::GATEWAYS, selected: @wallet.gateway),
                               { selected: @wallet.gateway }, class: 'custom-select' %>
                </div>
                <div class="form-group">
                  <label>Name</label>
                  <%= f.text_field :name, class: 'form-control' %>
                </div>
                <div class="form-group">
                  <label>Address</label>
                  <%= f.text_field :address, class: 'form-control' %>
                </div>
                <div class="form-group">
                  <label>Kind</label>
                  <%= f.select :kind, Wallet::kinds(keys: true).map { |k| [k.capitalize, k] },
                               { selected: @wallet.kind }, { class: 'custom-select' } %>
                </div>
              </div>

              <div class="col-md-4">
                <div class="form-group">
                  <label>Maximum Balance</label>
                  <%= f.number_field :max_balance, min: 0, class: 'form-control' %>
                </div>
                <div class="form-group">
                  <label>Number of signatures</label>
                  <%= f.text_field :nsig, class: 'form-control' %>
                </div>
                <div class="form-group">
                  <label>Parent</label>
                  <%= f.text_field :parent, class: 'form-control' %>
                </div>
                <div class="form-group">
                  <label>Status</label>
                  <%= f.select :status, options_for_select([['Active', 'active'], ['Disabled', 'disabled']], selected: @wallet.status),
                               {}, { class: 'custom-select' } %>
                </div>
              </div>

              <div class="col-md-4">
                <% if @wallet.new_record? || @wallet.gateway != 'bitgo' %>
                  <%=  render partial: 'default_form', locals: { wallet: @wallet } %>
                <% else %>
                  <%=  render partial: 'bitgo_form', locals: { wallet: @wallet } %>
                <% end %>
              </div>

              <div class="col-md-12 mt-4">
                <%= f.submit 'Submit', class: 'btn btn-primary' %>
              </div>
            </div>
          <% end %>
        </div><!--end card-body-->
      </div><!--end card-->
    </div><!--end col-->
  </div><!--end row-->
</div><!-- container -->